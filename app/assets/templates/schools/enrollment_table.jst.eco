<h2>Enrollment table</h2>
<h3>TimeWise Resource Optimization Calculator</h3>
<h4>TOOL 1: Linking Students, Class Size, Sections & FTE</h4>

<!-- <div class="table-container">
	<table class="fte-table table table-hover table-bordered table-striped">
		<thead>
			<tr>
				<th rowspan="2"># Students</th>
				<th rowspan="2">Class Size</th>
				<th rowspan="2">Sections</th>
				<th>7 out of 8</th>
				<th>6 out of 7</th>
				<th>5 out of 6</th>
				<th>4 out of 5</th>
				<th>6 out of 8</th>
				<th>5 out of 7</th>
			</tr>
			<tr>
				<th class="fte" colspan="6">FTEs Needed</th>
			</tr>
		</thead>
		<tbody>
			<tr><td>956</td><td>35</td><td>27</td><td>31.2</td><td>31.9</td><td>32.8</td><td>34.1</td><td>36.4</td><td>38.2</td></tr>
			<tr><td>956</td><td>34</td><td>28</td><td>32.1</td><td>32.8</td><td>33.7</td><td>35.1</td><td>37.5</td><td>39.4</td></tr>
			<tr><td>956</td><td>33</td><td>29</td><td>33.1</td><td>33.8</td><td>34.8</td><td>36.2</td><td>38.6</td><td>40.6</td></tr>
			<tr><td>956</td><td>32</td><td>30</td><td>34.1</td><td>34.9</td><td>35.9</td><td>37.3</td><td>39.8</td><td>41.8</td></tr>
			<tr><td>956</td><td>31</td><td>31</td><td>35.2</td><td>36.0</td><td>37.0</td><td>38.5</td><td>41.1</td><td>43.2</td></tr>
			<tr><td>956</td><td>30</td><td>32</td><td>36.4</td><td>37.2</td><td>38.2</td><td>39.8</td><td>42.5</td><td>44.6</td></tr>
			<tr><td>956</td><td>29</td><td>33</td><td>37.7</td><td>38.5</td><td>39.6</td><td>41.2</td><td>44.0</td><td>46.2</td></tr>
			<tr><td>956</td><td>28</td><td>34</td><td>39.0</td><td>39.8</td><td>41.0</td><td>42.7</td><td>45.5</td><td>47.8</td></tr>
			<tr><td>956</td><td>27</td><td>35</td><td>40.5</td><td>41.3</td><td>42.5</td><td>44.3</td><td>47.2</td><td>49.6</td></tr>
			<tr><td>956</td><td>26</td><td>37</td><td>42.0</td><td>42.9</td><td>44.1</td><td>46.0</td><td>49.0</td><td>51.5</td></tr>
			<tr><td>956</td><td>25</td><td>38</td><td>43.7</td><td>44.6</td><td>45.9</td><td>47.8</td><td>51.0</td><td>53.5</td></tr>
			<tr><td>956</td><td>24</td><td>40</td><td>45.5</td><td>46.5</td><td>47.8</td><td>49.8</td><td>53.1</td><td>55.8</td></tr>
			<tr><td>956</td><td>23</td><td>42</td><td>47.5</td><td>48.5</td><td>49.9</td><td>52.0</td><td>55.4</td><td>58.2</td></tr>
			<tr><td>956</td><td>22</td><td>43</td><td>49.7</td><td>50.7</td><td>52.1</td><td>54.3</td><td>57.9</td><td>60.8</td></tr>
			<tr><td>956</td><td>21</td><td>46</td><td>52.0</td><td>53.1</td><td>54.6</td><td>56.9</td><td>60.7</td><td>63.7</td></tr>
			<tr><td>956</td><td>20</td><td>48</td><td>54.6</td><td>55.8</td><td>57.4</td><td>59.8</td><td>63.7</td><td>66.9</td></tr>
			<tr><td>956</td><td>19</td><td>50</td><td>57.5</td><td>58.7</td><td>60.4</td><td>62.9</td><td>67.1</td><td>70.4</td></tr>
			<tr><td>956</td><td>18</td><td>53</td><td>60.7</td><td>62.0</td><td>63.7</td><td>66.4</td><td>70.8</td><td>74.4</td></tr>
			<tr><td>956</td><td>17</td><td>56</td><td>64.3</td><td>65.6</td><td>67.5</td><td>70.3</td><td>75.0</td><td>78.7</td></tr>
			<tr><td>956</td><td>16</td><td>60</td><td>68.3</td><td>69.7</td><td>71.7</td><td>74.7</td><td>79.7</td><td>83.7</td></tr>
			<tr><td>956</td><td>15</td><td>64</td><td>72.8</td><td>74.4</td><td>76.5</td><td>79.7</td><td>85.0</td><td>89.2</td></tr>
			<tr><td>956</td><td>14</td><td>68</td><td>78.0</td><td>79.7</td><td>81.9</td><td>85.4</td><td>91.0</td><td>95.6</td></tr>
		</tbody>
	</table>
</div> -->

<a href="/" class="btn btn-default">Home</a>

<div class="table-container">
	<table class="fte-table"></table>
</div>
    

<script>

	for (var i=0; i<23; i++) {
	    var row = document.querySelector("table").insertRow(-1);
	    for (var j=0; j<10; j++) {
	        var letter = String.fromCharCode("A".charCodeAt(0)+j-1);
	        row.insertCell(-1).innerHTML = i&&j ? "<input id='"+ letter+i +"'/>" : i||letter;
	    }
	}

	var DATA={}, INPUTS=[].slice.call(document.querySelectorAll("input"));
	var HEADERS = ['', 'Students', 'Class Size', 'Sections', '(7 out of 8)', '(6 out of 7)', '(5 out of 6)', '(4 out of 5)', '(6 out of 8)', '(5 out of 7)'];
	INPUTS.forEach(function(elm) {
	    elm.onfocus = function(e) {
	        e.target.value = localStorage[e.target.id] || "";
	    };
	    elm.onblur = function(e) {
	        localStorage[e.target.id] = e.target.value;
	        computeAll();
	    };
	    var getter = function() {
	        var value = localStorage[elm.id] || "";
	        if (value.charAt(0) == "=") {
	            with (DATA) return eval(value.substring(1));
	        } else { return isNaN(parseFloat(value)) ? value : parseFloat(value); }
	    };
	    Object.defineProperty(DATA, elm.id, {get:getter});
	    Object.defineProperty(DATA, elm.id.toLowerCase(), {get:getter});
	});
	(window.computeAll = function() {
	    INPUTS.forEach(function(elm) { 
	    	try {
	    		if (elm.id.indexOf('C') === 0) {
		    		elm.value = isNaN(parseFloat(DATA[elm.id])) ? DATA[elm.id] : Math.round(DATA[elm.id]); 
	    		} else if (elm.id.indexOf('D') === 0 || elm.id.indexOf('E') === 0 || elm.id.indexOf('F') === 0 || elm.id.indexOf('F') === 0 || elm.id.indexOf('G') === 0 || elm.id.indexOf('H') === 0 || elm.id.indexOf('I') === 0) {
	    			elm.value = isNaN(parseFloat(DATA[elm.id])) ? DATA[elm.id] : parseFloat(DATA[elm.id]).toFixed(1); 
	    		} else {
	    			elm.value = DATA[elm.id];
	    		}
		    } 
	    	catch(e) {} 
	  	});

	})();

	var headers_query = jQuery('table.fte-table tr').first().find('td');
	for(var i=0; i<headers_query.length; i++) {
		var target = $(headers_query[i]);
		target.text(HEADERS[i]);
		if (target.text().indexOf('(') + 1) {
			target.html("FTEs Needed" + "<br>" + target.html());
		}
	}
</script>

