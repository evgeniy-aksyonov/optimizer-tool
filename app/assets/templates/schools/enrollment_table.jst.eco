<h2>Enrollment table</h2>
<h3>TimeWise Resource Optimization Calculator</h3>
<h4>TOOL 1: Linking Students, Class Size, Sections & FTE</h4>

<div class="fte-table-container">
  <table class="fte-table table table-bordered">
    <colgroup></colgroup>
    <colgroup></colgroup>
    <colgroup></colgroup>
    <colgroup></colgroup>
    <colgroup></colgroup>
    <colgroup></colgroup>
    <colgroup></colgroup>
    <colgroup></colgroup>
    <colgroup></colgroup>
    <thead>
      <tr>
        <th rowspan="2"># Students</th>
        <th rowspan="2">Class Size</th>
        <th rowspan="2">Sections</th>
        <th rowspan="2"><p class="learning-units">7 out of 8</p><p>FTEs Needed</p></th>
        <th rowspan="2"><p class="learning-units">6 out of 7</p><p>FTEs Needed</p></th>
        <th rowspan="2"><p class="learning-units">5 out of 6</p><p>FTEs Needed</p></th>
        <th rowspan="2"><p class="learning-units">4 out of 5</p><p>FTEs Needed</p></th>
        <th rowspan="2"><p class="learning-units">6 out of 8</p><p>FTEs Needed</p></th>
        <th rowspan="2"><p class="learning-units">5 out of 7</p><p>FTEs Needed</p></th>
      </tr>
    </thead>
	  <tbody>
      <tr><td>956</td><td>35</td><td>27</td><td>31.2</td><td>31.9</td><td>32.8</td><td>34.1</td><td>36.4</td><td>38.2</td></tr>
      <tr><td>956</td><td>34</td><td>28</td><td>32.1</td><td>32.8</td><td>33.7</td><td>35.1</td><td>37.5</td><td>39.4</td></tr>
      <tr><td>956</td><td>33</td><td>29</td><td>33.1</td><td>33.8</td><td>34.8</td><td>36.2</td><td>38.6</td><td>40.6</td></tr>
      <tr><td>956</td><td>32</td><td>30</td><td>34.1</td><td>34.9</td><td>35.9</td><td>37.3</td><td>39.8</td><td>41.8</td></tr>
      <tr><td>956</td><td>31</td><td>31</td><td>35.2</td><td>36.0</td><td>37.0</td><td>38.5</td><td>41.1</td><td>43.2</td></tr>
      <tr><td>956</td><td>30</td><td>32</td><td>36.4</td><td>37.2</td><td>38.2</td><td>39.8</td><td>42.5</td><td class="default-highlight">44.6</td></tr>
      <tr><td>956</td><td>29</td><td>33</td><td>37.7</td><td>38.5</td><td>39.6</td><td>41.2</td><td>44.0</td><td>46.2</td></tr>
      <tr><td>956</td><td>28</td><td>34</td><td>39.0</td><td>39.8</td><td>41.0</td><td>42.7</td><td>45.5</td><td>47.8</td></tr>
      <tr><td>956</td><td>27</td><td>35</td><td>40.5</td><td>41.3</td><td>42.5</td><td>44.3</td><td>47.2</td><td>49.6</td></tr>
      <tr><td>956</td><td>26</td><td>37</td><td>42.0</td><td>42.9</td><td>44.1</td><td>46.0</td><td>49.0</td><td>51.5</td></tr>
      <tr><td>956</td><td>25</td><td>38</td><td>43.7</td><td>44.6</td><td>45.9</td><td>47.8</td><td>51.0</td><td>53.5</td></tr>
      <tr><td>956</td><td>24</td><td>40</td><td>45.5</td><td>46.5</td><td>47.8</td><td>49.8</td><td>53.1</td><td>55.8</td></tr>
      <tr><td>956</td><td>23</td><td>42</td><td>47.5</td><td>48.5</td><td>49.9</td><td>52.0</td><td>55.4</td><td>58.2</td></tr>
      <tr><td>956</td><td>22</td><td>43</td><td>49.7</td><td>50.7</td><td>52.1</td><td>54.3</td><td>57.9</td><td>60.8</td></tr>
      <tr><td>956</td><td>21</td><td>46</td><td>52.0</td><td>53.1</td><td>54.6</td><td>56.9</td><td>60.7</td><td>63.7</td></tr>
      <tr><td>956</td><td>20</td><td>48</td><td>54.6</td><td>55.8</td><td>57.4</td><td>59.8</td><td>63.7</td><td>66.9</td></tr>
      <tr><td>956</td><td>19</td><td>50</td><td>57.5</td><td>58.7</td><td>60.4</td><td>62.9</td><td>67.1</td><td>70.4</td></tr>
      <tr><td>956</td><td>18</td><td>53</td><td>60.7</td><td>62.0</td><td>63.7</td><td>66.4</td><td>70.8</td><td>74.4</td></tr>
      <tr><td>956</td><td>17</td><td>56</td><td>64.3</td><td>65.6</td><td>67.5</td><td>70.3</td><td>75.0</td><td>78.7</td></tr>
      <tr><td>956</td><td>16</td><td>60</td><td>68.3</td><td>69.7</td><td>71.7</td><td>74.7</td><td>79.7</td><td>83.7</td></tr>
      <tr><td>956</td><td>15</td><td>64</td><td>72.8</td><td>74.4</td><td>76.5</td><td>79.7</td><td>85.0</td><td>89.2</td></tr>
      <tr><td>956</td><td>14</td><td>68</td><td>78.0</td><td>79.7</td><td>81.9</td><td>85.4</td><td>91.0</td><td>95.6</td></tr>
	  </tbody>
  </table>
</div>

<div class="info-block-wrapper">
  <ul class="info-block list-inline">
    <li>
      <p class="timetable">...</p>
      <p class="category">Timetable</p>
    </li>
    <li>
      <p>13</p>
      <p class="category">Teachers Have</p>
    </li>
    <li>
      <p class="class-size">...</p>
      <p class="category">Class Size</p>
    </li>
    <li>
      <p class="teachers-needed">...</p>
      <p class="category">Teachers Needed</p>
    </li>
    <li>
      <p>780000</p>
      <p class="category">Total Salary</p>
    </li>
    <li>
      <p>0</p>
      <p class="category">Teachers Set Aside</p>
    </li>
  </ul>
</div>

<div class="link_wrapper">
  <a href="/" class="btn btn-default" role="button"><span class="glyphicon glyphicon-home"></span>Home</a>
</div>

<script>
  
  if (location.href.indexOf('enrollment_table') + 1 ) {
    $('body').addClass('enrollment-table');

    // Hover function
  	var tableEventsHandler = function () {

      $("table").delegate('td','mouseover mouseleave', function(e) {
        if (e.type == 'mouseover') {
          $(this).parent().addClass("hover");
          $("colgroup").eq($(this).index()).addClass("hover");
        }
        else {
          $(this).parent().removeClass("hover");
          $("colgroup").eq($(this).index()).removeClass("hover");
        }
      });

      $("table").delegate('td:nth-child(n+4)','click', function() {

        $('td').removeClass("highlighted");

        $(this).parent().find($('td:nth-child(n+2):nth-child(-n+3)')).toggleClass("highlighted");
        $(this).toggleClass("highlighted");

        InfoBlockHandler();
      });


      $('.default-highlight').trigger('click');

    };

    // Info-block function
    function InfoBlockHandler () {

      // info-block cells selectors
      var cell_timetable = $('p.timetable'),
          cell_class_size = $('p.class-size'),
          cell_teachers_needed = $('p.teachers-needed');

      // info-block variables
      var ib_timetable = $('.fte-table th').eq($('table td.highlighted').last().index()).find('p.learning-units').text(),
          // should be got from current school model info   
          ib_teachers_have,
          ib_class_size = $('.fte-table td.highlighted').first().html(),
          ib_teachers_needed = Math.round(parseFloat($('.fte-table td.highlighted').last().html())),
          // need to get average salary from school model
          ib_total_salary,
          ib_teachers_set_aside; // ?

      // assigning values
      cell_timetable.html(ib_timetable);
      cell_class_size.html(ib_class_size);
      cell_teachers_needed.html(ib_teachers_needed);
    }

  	tableEventsHandler();
  //end of main IF  
  }
  
	
</script>
